<!doctype html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>个人中心</title>
		<link rel="stylesheet" href="node_modules/bootstrap-3.3.2-dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="css/mutual.css">
		<link rel="stylesheet" href="css/personal.css">
		<link rel="stylesheet" href="css/realAuth.css">
	</head>

	<body>
		<!--网页结构搭建-->
		<!--顶部导航条-->
		<div id="el-top" class="navbar navbar-default">
			<div class="container">

				<div id="navbar-btn" class="collapse  navbar-collapse">
					<ul class="nav navbar-nav navbar-right ">
						<li>
							<a href="index.html">首页</a>
						</li>
						<li>
							<a href="personal.html">小强</a>
						</li>
						<li>
							<a href="recharge.html">赶紧充值</a>
						</li>
						<li>
							<a href="index_withoutLogin.html">注销</a>
						</li>
						<li>
							<a href="#">帮助</a>
						</li>
						<li>
							<a href="#" class="tupian">联系客服</a>
							<div class="el-img">
								<img src='img/contract.png' height='110px' width='110px'>
							</div>

						</li>
					</ul>
				</div>

			</div>
		</div>
		<!-- 网页导航 -->
		<div class="navbar navbar-default daohang">
			<div class="container">
				<div class="navbar-header img">
					<a href="#">
						<img alt="Brand" src="img/logo.png" />
					</a>
				</div>
				<ul class="nav navbar-nav li">
					<li>
						<a href="index.html">首页</a>
					</li>
					<li>
						<a href="invest.html">我要投资</a>
					</li>
					<li>
						<a href="borrow.html">我要借款</a>
					</li>
					<li class="active">
						<a href="personal.html">个人中心</a>
					</li>
					<li>
						<a href="#">新手指引</a>
					</li>
					<li>
						<a href="#">关于我们</a>
					</li>
				</ul>
			</div>
		</div>
		<div class="container el-content">
			<div class="row">
				<div class="col-sm-3 " id="el-list">
					<div>
						<div class="list-group">
							<a href="#" class="list-group-item ">投资项目</a>
						</div>
						<div class="list-group">
							<a href="#" class="list-group-item">借款项目</a>
							<a href="bid_personal.html" class="list-group-item">借款项目</a>
							<a href="#" class="list-group-item">还款明细</a>
						</div>
						<div class="list-group">
							<a href="#" class="list-group-item">我的账户</a>
							<a href="personal.html" class="list-group-item ">账户信息</a>
							<a href="realAuth.html" class="list-group-item box">实名认证</a>
							<a href="#" class="list-group-item">银行卡管理</a>
							<a href="#" class="list-group-item">登录记录</a>
						</div>
						<div class="list-group">
							<a href="#" class="list-group-item">资产详情</a>
							<a href="#" class="list-group-item">账户流水</a>
							<a href="recharge_list.html" class="list-group-item">充值明细</a>
							<a href="#" class="list-group-item">提现记录</a>
							<a href="#" class="list-group-item">收款明细</a>
						</div>
						<div class="list-group">
							<a href="userInfo.html" class="list-group-item">个人资料</a>
						</div>
					</div>

				</div>
				<div class="col-sm-9">
					<div class="panel panel-default">
						<div class="panel-heading clearfix">
							<span class="pull-left">实名认证管理</span>
							<span class="pull-right"><a href="" id="tianjia" class="btn btn-success" data-toggle="modal" data-target="#create">添加</a></span>
						</div>
						<table class="table table-bordered" id="table">
							<tbody>
								<tr>
									<th>id</th>
									<th>姓名</th>
									<th>身份证</th>
									<th>电话</th>
									<th>城市</th>
									<th>状态</th>
									<th>操作</th>
								</tr>
								

							</tbody>
							<tfoot>
								<tr>
									<td colspan="7">
										<ul id="pagination-demo" class="pagination-sm">

										</ul>
									</td>
								</tr>

							</tfoot>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="row  el-footer">
			<div class="container">
				<div class="col-md-8">
					<p>专业Java培训、PHP培训、UI培训、iOS培训、高级Web前端培训机构</p>
					<p>版权所有：&emsp;2006-2015成都源代码教育咨询有限公司</p>
					<p>地&emsp;&emsp;址：&emsp;成都市高新区府城大道西段399号天府新谷1号楼620-625</p>
					<p>电&emsp;&emsp;话：&emsp;028-86261949&nbsp; / 400-808-6840&emsp;邮箱：&emsp;yuandaima@itsource.cn</p>
					<p>
						<a href="http://www.miitbeian.gov.cn">蜀ICP备14030149号-1</a>&emsp;&emsp;
						<a href="http://www.gaj.chengdu.gov.cn">蜀公网安备510114990541</a>
					</p>
					<div style="display: inline-block; overflow: hidden; float: left;"></div>
				</div>
				<div class="col-md-2">
					<div>
						<p style="padding-bottom: 15px; font-size: 14px; padding-left: 10px;">官方微博：</p>
						<a href="http://t.qq.com/it-source" target="_blank"> <img src="img/tecent.png" alt="Responsive image" class="img-responsive"></a>
						<a href="http://weibo.com/cditcast" target="_blank"> <img src="img/sina.png" alt="Responsive image" class="img-responsive"></a>
					</div>
				</div>
				<div class="col-md-2">
					<div>
						<p style="padding-bottom: 15px; font-size: 14px; padding-left: 10px;">官方微信：</p>
						<img src="img/wx.jpg" alt="Responsive image" class="img-responsive">
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="create">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">添加数据</h4>
					</div>
					<div class="modal-body">
						<form action="" class="form-horizontal" id="form1">
							<div class="form-group">
								<label for="" class="col-sm-2 control-label">id</label>

								<div class="col-sm-10"><input type="text" name="id" class="form-control "></div>

							</div>
							<div class="form-group">
								<label for="" class="col-sm-2 control-label">姓名</label>

								<div class="col-sm-10"><input type="text" name="username" class="form-control "></div>

							</div>
							<div class="form-group">
								<label for="" class="control-label col-sm-2">身份证</label>
								<div class="col-sm-10"><input type="text" name="cid" class="form-control"></div>

							</div>
							<div class="form-group">
								<label for="" class="control-label col-sm-2">电话</label>
								<div class="col-sm-10"><input type="text" name="phone" class="form-control"></div>
							</div>
							<div class="form-group">
								<label for="" class="control-label col-sm-2">城市</label>
								<div class="col-sm-10"><input type="text" name="city" class="form-control"></div>
							</div>
							<div class="form-group">
								<label for="" class="control-label col-sm-2">状态</label>
								<div class="col-sm-10">
									<select name="status" id="" class="form-control">
										<option>审核失败</option>
										<option>审核通过</option>
										<option>待审核</option>
									</select>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button class="btn btn-success" id="save">保存</button>
						<button class="btn btn-danger" data-dismiss="modal">取消</button>

					</div>
				</div>
			</div>

			<script src="node_modules/jquery/jquery-2.1.3.min.js"></script>
			<script type="text/javascript" src="js/jquery-2.1.0.js">
			</script>
			<script src="node_modules/bootstrap-3.3.2-dist/js/bootstrap.min.js"></script>
			<script type="text/javascript" src="js/index.js"></script>
			<script type="text/javascript" src="js/jquery.twbsPagination.min.js"></script>>

	</body>

	<script>
		/*编辑回显*/
		$("#table tbody").on("click", "td button", function() {
			//
			var cmd = $(this).attr("data-cmd");
			console.log(cmd);
			if(cmd === "edit") {
				//编辑功能
				//1 拿到 当前行的数据  closest()  查找最近的父级元素
				var $tr = $(this).closest("tr");
				var $id = $tr.find("td").eq(0).html();
				var $name = $tr.find("td").eq(1).html();
				var $cid = $tr.find("td").eq(2).html();
				var $phone = $tr.find("td").eq(3).html();
				var $city = $tr.find("td").eq(4).html();
				var $status = $tr.find("td").eq(5).html()
					//console.log($tr.find("td").eq(0).html());

				//2 把模态框 显示出来
				$("#create").modal("show");
				$("#create h4").html("编辑数据");
				//3 把数据添加到模态中
                 $("")
				//4 保存 ---发送当前模态框数据到后台
			}
			if(cmd === "del") {
				//删除功能
			}
		})
	</script>
	<script>
		/*点击添加删除或者编辑的时候的操作逻辑*/
		$(function() {
			$("#tianjia").on("click", function() {
				$("#modal").load("edit.html #create1");
				$('#create1').modal('show');
				//获取到当前的数据  发送到后台

			});
		})
	</script>

	<script type="text/javascript">
		$(function() {
			$.ajax({
				type: "get",
				url: "http://localhost:3000/mockapi",
				async: false,
				dataType: "jsonp",
				success: function(data) {
					//写显示表格的业务逻辑
					pageTable("#table", data);

				},
				error: function(err) {
					console.log(err);
				}
			});

			function showTable(id, data) {
				var $tbody = $(id).find("tbody");
				//                  var dataArr = data.itemGroup;
				//2 循环 data数据   拼接tr 装上td
				$.each(data, function(index, item) {
					//每次循环都希望有一个tr被创建出来 
					var $tr = $("<tr></tr>");
					var $td = $("<td><button class='btn btn-primary' data-cmd='edit'>编辑</button><button class='btn btn-danger' data-cmd='del'>删除</button></td>")
						//把item对象里面的内容拿出来放到td里面
					$.each(item, function(name, value) {
						//把value放到td里面
						var $td = $("<td>" + value + "</td>");
						//td 加到tr里面
						$tr.append($td);
					});
					/*<tr><td></td>....</tr> 还差一个操作的td*/
					$tr.append($td);
					//走到这步的时候 创建好了一个tr 并且 里面有数据
					$tbody.append($tr);

				})
			}
			/*保存的业务逻辑*/
			$("#save").click(function() {
				//serialize() 表单序列化  把所有的带有name值的表单项的值 拼接成 传参的格式
				var params = $("#form1").serialize();
				$.get("http://localhost:3000/zjl", params, function(err) {
					console.log(err);
				})
				$("#form1").find("input").val("");
				$("#create").modal("hide");
			})

			function pageTable(id, data) {
				$('#pagination-demo').twbsPagination({
					totalPages: 25,
					visiblePages: 7,
					onPageClick: function(event, page) {

						$('#page-content').text('Page ' + page);
						var pageSize = 10;
						var start = (page - 1) * pageSize;
						var end = page * pageSize;
						var pagedata = data.itemGroup.slice(start, end);
						$("#table").find("tbody").empty()
						showTable("#table", pagedata);
						$('#page-content').text('Page ' + page);
					}
				});
			}
		});
	</script>

</html>